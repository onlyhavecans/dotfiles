#!/usr/bin/env bash

## Don't look at all the chef-dk stuff
PATH=/usr/local/bin:/usr/local/sbin:/bin:/sbin:/usr/bin:/usr/sbin

status_message Update castles
homeshick pull
homeshick link

status_message Update my brew packages
brew update
brew upgrade
brew bundle install --global

status_message Update my asdf globals
asdf plugin update --all

status_message Clean up vim-plug repos to prevent errors
for plugin in ~/.config/nvim/plugged/*; do
  git -C "$plugin" reset --quiet --hard HEAD
done
status_message Update vim-plug
nvim +PlugUpgrade +qall
status_message Update all the vim-plug plugins
nvim +PlugUpdate +qall
nvim +UpdateRemotePlugins +qall

if [[ -x $HOME/.tmux/plugins/tpm/bin/update_plugins ]]; then
  status_message Update and clean tmux plugins
  ~/.tmux/plugins/tpm/bin/install_plugins
  ~/.tmux/plugins/tpm/bin/update_plugins all
  ~/.tmux/plugins/tpm/bin/clean_plugins
fi

status_message Check for missing packages
brew missing

status_message Do I have any outdated App Store apps
mas outdated
