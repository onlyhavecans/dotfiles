# shellcheck disable=SC2039
## Add in local .vimrc files into vim's execution
# add_extra_vimrc
add_extra_vimrc() {
  local extravim="$(find_up .vimrc)"
  if [ -n "$extravim" ]; then
    echo "Adding extra .vimrc: ${extravim}"
    path_add EXTRA_VIM "$extravim"
  fi
}

# make more virtenvs! 
# use python x.x.x env_name
# OR use python x.x.x $(basename $PWD)
use_python() {
  local pyversion=$1
  local pvenv=$2
  local env_name=${pvenv}-${pyversion}

  eval "$(pyenv init -)"
  eval "$(pyenv virtualenv-init -)"

  pyenv local "${pyversion}"

  if pyenv virtualenvs | grep --silent "$env_name"; then
    echo "Using existing $env_name env"
  else
    echo "Making $env_name"
    pyenv virtualenv --force "$pyversion" "$env_name"
  fi

  export PYENV_VIRTUALENV_DISABLE_PROMPT=1
  pyenv activate "$env_name"
}

## Shortcut for using a shared/global pyenv_venv (like my flask env)
# use pyenv virtuanenv_name
use_pyenv() {
  eval "$(pyenv init -)"
  export PYENV_VIRTUALENV_DISABLE_PROMPT=1
  pyenv activate "$1"
}

## chef-dk summoner
# use chefdk
use_chefdk() {
  eval "$(chef shell-init bash)"
}

## When one does ruby have a shortcut for all ruby-install
# use ruby X.X.X
use_ruby() {
  local ruby_dir=$HOME/.rubies/ruby-$1
  load_prefix "$ruby_dir"
  layout ruby
}

# vim: filetype=sh
